<!doctype html>
<html>

<head>
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="./basic.css">
  <link rel="stylesheet" href="./mainpage.css">
  <link rel="stylesheet" href="./bottom.css">
  <link rel="stylesheet" href="./category.css">
  <link rel="stylesheet" href="./searchbox.css">
  <link rel="stylesheet" href="./modal.css">
  <link rel="stylesheet" href="./quiz.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>

<body>
  <div>
    <div class="container text-center">
      <!-- 상단 네브바 (뒤로가기, 마이페이지, 환경설정) -->
      <div class="row ">
        <nav class="navbar fixed-top navbar-light bg-white ">
          <div class="container-fluid fs-4" id="mainTop" >
            <!-- <a class="bi bi-arrow-left"  style="color: black ;"></a> -->
            <a class="navbar-brand center fw-bold" href="#" > 요즘말사전 </a>
            <a class="navbar-brand center fw-bold" href="/login" > <%= nickname %>님 </a>
          </div>
        </nav>
      </div>
      <!-- // -->
      <!-- 검색기능 maegin기능 수정 -->
      <form action="/mainpage/search" method="GET">
        <div class="input-group mb-3">
          <input id="searchWord" type="text" class="search-text form-control mx-auto" name="searchWord"
            placeholder="검색어를 입력하시오" aria-label="검색어를 입력하시오" aria-describedby="button-addon2">
          <button id="searchBtn" class="bi bi-search btn btn-outline-#264db5" type="submit" ></button>
        </div>
      </form>



      <div class="mx-auto" style="text-decoration: none;">
        <button type="button" onclick="show01()" class="btn" id="categoryBtn">신조어</button>
        <button type="button" onclick="show02()" class="btn" id="categoryBtn">줄임말</button>
        <button type="button" onclick="show03()" class="btn" id="categoryBtn">합성어</button>
        <button type="button" onclick="show04()" class="btn" id="categoryBtn">유행어</button>
        <button type="button" onclick="show05()" class="btn" id="categoryBtn">초성</button>
        <button type="button" onclick="show06()" class="btn" id="categoryBtn">이모티콘</button>
        <button type="button" class="btn" id="categoryBtn"><a href="category">전체</a></button>
      </div>

      <!-- modal.css -->
      <div class="container"> 
        <div class="popup-wrap"> 
          <div class="popup">	
            <div class="popup-head">	
                <span class="head-title">ㅎㅎ</span>
            </div>
            <div class="popup-body">	
              <div class="body-content">
                <div class="body-titlebox">
                  <h1>정답입니다~~</h1>
                </div>
                <div class="body-contentbox">
                  <p>정답은 어쩔티비!</p>
                </div>
              </div>
            </div>
            <div class="popup-foot">
              <span class="pop-btn confirm" id="confirm" onclick="closeClick()">확인</span>
              <span class="pop-btn close" id="close" onclick="closeClick()">창 닫기</span>
            </div>
          </div>
         </div>
      </div>
      <!-- 오답 modal-->
      <div class="container"> 
        <div class="popup-wrap" id="failBack"> 
          <div class="popup" id="failModal">	
            <div class="popup-head">	
                <span class="head-title">ㅎㅎ</span>
            </div>
            <div class="popup-body">	
              <div class="body-content">
                <div class="body-titlebox">
                  <h1>틀렷습니다~~</h1>
                </div>
                <div class="body-contentbox">
                  <p>정답은 나도 몰라!</p>
                </div>
              </div>
            </div>
            <div class="popup-foot">
              <span class="pop-btn confirm" id="confirm" onclick="closeClick()">확인</span>
              <span class="pop-btn close" id="close" onclick="closeClick()">창 닫기</span>
            </div>
          </div>
         </div>
      </div>
      
      <%- quiz %>
    </div>
  </div>
    <%- bottom %>
   <script>
        // import Axios from 'axios';
        //const aixos=require('axios');
        const words = [
          {
            ItemName: "1",
            Category_categoryId: "1",
            itemDescription: "dd",
            itemDescription2: "dd",
            bookmarkTF: "dd",
            goodTF: "dd",
            link: "dd",
          },
          {
            ItemName: "2",
            Category_categoryId: "2",
            itemDescription: "dd",
            itemDescription2: "dd",
            bookmarkTF: "dd",
            goodTF: "dd",
            link: "dd",
          },
          {
            ItemName: "3",
            Category_categoryId: "3",
            itemDescription: "dd",
            itemDescription2: "dd",
            bookmarkTF: "dd",
            goodTF: "dd",
            link: "dd",
          },
          {
            ItemName: "4",
            Category_categoryId: "4",
            itemDescription: "dd",
            itemDescription2: "dd",
            bookmarkTF: "dd",
            goodTF: "dd",
            link: "dd",
          },
          {
            ItemName: "5",
            Category_categoryId: "5",
            itemDescription: "dd",
            itemDescription2: "dd",
            bookmarkTF: "dd",
            goodTF: "dd",
            link: "dd",
          },
          {
            ItemName: "6",
            Category_categoryId: "6",
            itemDescription: "dd",
            itemDescription2: "dd",
            bookmarkTF: "dd",
            goodTF: "dd",
            link: "dd",
          },
          {
            ItemName: "7",
            Category_categoryId: "7",
            itemDescription: "dd",
            itemDescription2: "dd",
            bookmarkTF: "dd",
            goodTF: "dd",
            link: "dd",
          }, {
            ItemName: "1",
            Category_categoryId: "1",
            itemDescription: "dd",
            itemDescription2: "dd",
            bookmarkTF: "dd",
            goodTF: "dd",
            link: "dd",
          },
        ]
        console.log(words);

        function search() {
          const searchValue = document.getElementById('searchWord').value;

          // 서버로 검색어를 전송하는 코드
          fetch('/search', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              searchValue: searchValue
            })
          })
            .then(response => response.json())
            .then(data => {
              const itemIndex = data.itemIndex;
              window.location.href = `/detail/${itemIndex}`;
            })
            .catch(error => console.error(error));
        }

        document.getElementById('searchWord').addEventListener('keyup', function (event) {
          if (event.key === 'Enter') {
            search();
          }
        });

        //activate Enterkey for Search
        function show01() {
          console.log("01카테고리고 가욤");
          let word1 = words.filter(words => words.Category_categoryId === "1");
          console.log(word1);
        }
        function show02() {
          console.log("02카테고리고 가욤");
          let word2 = words.filter(words => words.Category_categoryId === "2");
          console.log(word2);
        }
        
        function checkAnswer(selectedAnswer, correctAnswer) { //퀴즈 스크립트입니다.
          if (selectedAnswer === correctAnswer) { //정답
            document.querySelector('.popup').style.display = 'block';
            document.querySelector('.popup-wrap').style.display = 'block';
          } else { //오답
            document.querySelector('#failModal').style.display = 'block';
            document.querySelector('#failBack').style.display = 'block';
          }
        }
       

        function closeClick(){
          document.querySelector('.popup').style.display = 'none';
          document.querySelector('.popup-wrap').style.display = 'none';
        }
      </script>
</body>


</html>