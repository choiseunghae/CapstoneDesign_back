<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="./basic.css">
  <link rel="stylesheet" href="./login.css">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>로그인</title>
  <!-- <link rel="stylesheet" href="css/login.css?v=1234"> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

</head>

<body class="text-center">
  <div class="container" id="container">
    <div class="form-container sign-up-container">
      <form action="/signup" method="post">
        <h1>회원가입</h1>
        <input class="nickname" type="nickname" placeholder="닉네임" name="usernickname" id="singId" />
        <p class="duplication" id="duplication">중복 닉네임입니다. 다시 설정해주세요 </p>
        <input  class="password" type="password" placeholder="비밀번호" name="password"  id="singPassword"/>
        <button type="submit" id="singUp">가입하기</button>
        <button class="move" id="move" >로그인하러 가기</button>
      </form>
    </div>
    <div class="form-container sign-in-container">
      <form action="/login" method="post">
        <h1>로그인</h1>
        <input class="nickname" type="nickname" placeholder="닉네임" placeholder="닉네임" name="usernickname" id="id"/>
        <input  class="password" type="password" placeholder="비밀번호" name="password"  id="password" />
        <button type="submit" id="login" >로그인</button>
        <button class="move" id="move" >회원가입</button>
      </form>
    </div>
    <div class="overlay-container">
      <div class="overlay">
        <div class="overlay-panel overlay-left">
          <h1>환영합니다</h1>
          <p>회원이신 분은 아래를 눌러주세요!</p>
          <button class="ghost" id="signIn">로그인하러 가기</button>
        </div>
        <div class="overlay-panel overlay-right">
          <h1>안녕하세요</h1>
          <p>요즘말사전과 함께 하실래요?</p>
          <button class="ghost" id="signUp">회원가입하러 가기</button>
        </div>
      </div>
    </div>
  </div>
  </div>

  <!-- Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
    <script>
       document.getElementById('login').addEventListener('keyup', function (event) {
          if (event.key === 'Enter') {
            fetch('/login', {
            method: 'POST'
            });
          }
        });
        const signUpButton = document.getElementById('signUp');
        const signInButton = document.getElementById('signIn');
        const container = document.getElementById('container');

        signUpButton.addEventListener('click', () => {
          container.classList.add("right-panel-active");
        });

        signInButton.addEventListener('click', () => {
          container.classList.remove("right-panel-active");
        });
        
        const moveButtons = document.querySelectorAll('.move');
        const Container = document.getElementById('container');

        moveButtons.forEach(button => {
          button.addEventListener('click', () => {
            Container.classList.toggle("right-panel-active");
          });
        });

  
    const singCheck = [
    {
        usernickname:"하이염"
	  },
    {
        usernickname:"안녕"
	  },
    {
        usernickname:"응"
	  },
    {
        usernickname:"화가난무지"
	  }]

    // const singId = document.getElementById('singId').value;
    // const loginId= document.getElementById('id').value;

    const singUpBtn = document.getElementById('singUp');
const nicknameInput = document.getElementById('singId');
const duplicationMsg = document.getElementById('duplication');

singUpBtn.addEventListener('click', function(e) {
  e.preventDefault();
  const nickname = nicknameInput.value;

  // check if nickname already exists
  if (checkNicknameExists(nickname)) {
    duplicationMsg.style.display = 'block'; // show duplication message
  } else {
    duplicationMsg.style.display = 'none'; // hide duplication message
    // submit form if nickname is valid and does not exist
    document.querySelector('form').submit();
  }
});

// function to check if nickname already exists (replace with your own logic)
function checkNicknameExists(nickname) {
  // logic to check if nickname already exists in database or other storage
  // return true if nickname exists, false otherwise
  return false;
}
    // singId.onblur=function(e){
    //   if(loginId==singId){
    //   document.querySelector('.duplication').style.display = 'block';
  
    // }else{
    //   document.querySelector('.duplication').style.display = 'none';
    // }
    // }

// ------------------화원가입 닉네임 중복---------------
      //   function blankCheck(f){
    	// var id=f.id.value;
      //   id=id.trim();
      //   if(id.length<5){
      //   	alert("아이디는 5자 이상 입력해주십시오.");
      //       return false;
        // }//if end
        // return true;
    // }//blankCheck() end
//---------------------------------------------------

    </script>
    <script src="/color.js"></script>
</body>

</html>
